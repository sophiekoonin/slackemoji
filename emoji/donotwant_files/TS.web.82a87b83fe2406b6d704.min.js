(window.webpackJsonp=window.webpackJsonp||[]).push([["TS.web"],{DxLu:function(t,e){!function(){TS.registerModule("web",{before_login_sig:new signals.Signal,login_sig:new signals.Signal,ds_login_sig:new signals.Signal,no_login_complete_sig:new signals.Signal,section_opened_sig:new signals.Signal,onStart:function(){TS.prefs.messages_theme_changed_sig.add(TS.ui.setThemeClasses,TS),TS.boot_data.page_needs_enterprise&&(TS.boot_data.no_login?TS.web.no_login_complete_sig.addOnce(t):TS.web.login_sig.addOnce(e)),TS.web.autoOpenSection(),$('[data-toggle="tooltip"]').tooltip({animation:!0}),TS.telemeter&&TS.boot_data&&TS.boot_data.page_timing_label&&TS.telemeter.measure("navigationStart",TS.boot_data.page_timing_label+"_load"),TS.boot_data&&!TS.boot_data.api_active_migration_error_response_type&&(TS.boot_data.api_active_migration_error_response_type="show_dialog"),$('[data-qa="upgrade_std_btn"]').click((function(){TS.interop.clog.track("GROWTH_PRICING",{contexts:{ui_context:{step:"admin_billing",action:"click",ui_element:"checkout_standard_button"}}})})),$('[data-qa="upgrade_btn"]').click((function(){TS.interop.clog.track("GROWTH_PRICING",{contexts:{ui_context:{step:"admin_billing",action:"click",ui_element:"checkout_plus_button"}}})})),$('[data-qa="learn_more_btn"]').click((function(){TS.interop.clog.track("GROWTH_PRICING",{contexts:{ui_context:{step:"admin_billing",action:"click",ui_element:"pricing_plus_button"}}})}))},gogogo:function(){$("html").bind("mousedown",(function(){TS.model.ui.is_mouse_down=!0})),$("html").bind("dragend",(function(){TS.model.ui.is_mouse_down=!1})),$("html").bind("mouseup",(function(){TS.model.ui.is_mouse_down=!1}))},toggleSection:function(t,e){var n=$("#"+t),a=n.css("border-bottom");n.css("border-bottom","1px solid transparent"),n.find(".accordion_subsection").slideToggle(100,(function(){n.css("border-bottom",a),n.hasClass("plastic_row")&&!n.hasClass("open")&&n.removeAttr("style")})),n.toggleClass("open"),n.find("textarea").trigger("autosize-resize");var o=n.hasClass("open"),i=n.find(".accordion_expand");o?(TS.web.section_opened_sig.dispatch(t),i.text(TS.interop.i18n.t("Close","web")()),n.find(".ladda-button").each((function(){Ladda.bind($(this)[0])}))):i.text(TS.interop.i18n.t("Expand","web")()),e||history.pushState(null,null,"#"+t.replace("change_",""))},openSection:function(t){$("#"+t).hasClass("open")||TS.web.toggleSection(t)},closeSection:function(t){$("#"+t).hasClass("open")&&TS.web.toggleSection(t)},autoOpenSection:function(){var t=_.escape(window.location.hash);if(t){"#"===t.charAt(0)&&(t=t.substring(1));var e=$('a[name="'+t+'"][data-accordion]').data("accordion");e&&(setTimeout((function(){TS.web.section_opened_sig.dispatch(e)}),0),TS.web.openSection(e))}},scrollToElWithHeaderOffset:function(t){$(t).scrollintoview({px_offset:$("header").height()+16})},onFirstLoginMS:function(){n(),TS.log(850,Date.now()-TS.boot_data.start_ms+"ms from first html to login_sig.dispatch()"),TS.web.before_login_sig.dispatch(),TS.web.login_sig.dispatch()},onEveryLoginMS:function(){},apiPaused:function(){},apiUnpaused:function(){},showSpeedBumpDialog:function(t){if(TS.boot_data.feature_user_app_disable_speed_bump){var e,n,a,o,i,s,l="USER_APP_DISABLE_SPEED_BUMP_ACTION",r=t.team,p=t.member,c=t.context,_=TS.interop.i18n.t("If you'd like to keep those apps and integrations, you'll need to select <b>Contact Support</b> below.","web")(),d=TS.interop.i18n.t("This will also disable <b>all the apps and integrations</b> installed by {real_name}. Those apps will no longer work for any members of {team_name}.","web")({real_name:p.real_name,team_name:TS.interop.rules.teams.getTeamDisplayName(r)});"deactivate_user"===c?(e=TS.interop.i18n.t("Deactivate {real_name}'s account?","web")({real_name:p.real_name}),s=TS.interop.i18n.t("Deactivate account and disable <b>{app_count, plural, =1 {# app} other {# apps and integrations}}.</b>","web")({app_count:p.app_count}),n=TS.interop.i18n.t("Deactivate Account","web")(),a="btn_danger disabled",o="app_disable",i="#app_disable"):"convert_to_guest"===c?(e=TS.interop.i18n.t("Convert {real_name} to a Guest?","web")({real_name:p.real_name}),s=TS.interop.i18n.t("Convert account to a Guest and disable <b>{app_count, plural, =1 {# app} other {# apps and integrations}}.</b>","web")({app_count:p.app_count}),n=TS.interop.i18n.t("Convert to Guest","web")(),a="btn_success disabled",o="app_guest",i="#app_guest"):(e=TS.interop.i18n.t("Deactivate your account and apps you've added?","web")(),d=TS.interop.i18n.t("This will also disable <b>all the apps and integrations</b> installed by you. Those apps will no longer work for any members of {team_name}.","web")({real_name:p.real_name,team_name:TS.interop.rules.teams.getTeamDisplayName(r)}),s=TS.interop.i18n.t("Deactivate your account and disable <b>{app_count, plural, =1 {# app} other {# apps and integrations}}.</b>","web")({app_count:p.app_count}),n=TS.interop.i18n.t("Deactivate Account","web")(),a="btn_danger disabled",o="app_self_disable",i="#app_self_disable",_=TS.interop.i18n.t("If you'd like help keeping apps running after you deactivate, please choose <b>Contact Support</b> below.","web")());var u=TS.interop.i18n.t("View our help article","web")(),b=$('<span class="float_left sk_foreground_high"><ts-icon class="ts_icon_question_circle align_middle"><a role="button" href="https://slack.com/help/articles/360000446446-Manage-deactivated-members-apps-and-integrations" target="_blank" class="link_btn no_underline small_padding tiny bold align_middle" style="color:#A0A0A2">'+u+"</a></span>"),g='<p>\n\t\t\t\t\t\t<div class="alert alert_warning small">\n\t\t\t\t\t\t<ts-icon class="ts_icon_warning"></ts-icon>\n\t\t\t\t\t\t\t'+d+'\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<label class="checkbox normal align_bottom top_padding">\n\t\t\t\t\t\t<input type="checkbox" id="'+o+'">\n\t\t\t\t\t\t\t'+s+'\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</br>\n\t\t\t\t\t\t<p class="small no_margin no_padding">\n\t\t\t\t\t\t\t'+_+"\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</p>";TS.interop.clog.track(l,{contexts:{ui_context:{action:"open",step:c}}}),TS.generic_dialog.start({title:e,body:g,go_button_text:n,go_button_class:a,cancel_button_text:TS.interop.i18n.t("Contact Support","web")(),onGo:function(){TS.interop.clog.track(l,{contexts:{ui_context:{action:"complete",step:c}}}),t.onGo&&t.onGo()}}),TS.generic_dialog.div.find(".dialog_cancel").click((function(){TS.interop.clog.track(l,{contexts:{ui_context:{action:"contact_support",step:c}}}),TS.web.showContactSupportDialog({team:TS.model.team,member:p})})),TS.generic_dialog.div.find(".close").click((function(){TS.interop.clog.track(l,{contexts:{ui_context:{action:"cancel",step:c}}})})),TS.generic_dialog.div.find(".modal-footer").append(b),$(i).click((function(){$('[data-qa="generic_dialog_go"]').toggleClass("disabled")}))}},showContactSupportDialog:function(t){if(TS.boot_data.feature_user_app_disable_speed_bump){var e=t.team,n=t.member,a=n.real_name,o=e.id,i=n.id,s=n.app_count,l=TS.interop.i18n.t("Subject","web")(),r=TS.interop.i18n.t("Add a comment","web")(),p=TS.interop.i18n.t("Keeping apps when deactivating members","web")(),c=TS.interop.i18n.t("(Optional)","web")(),_='<p class="no_margin">\n\t\t\t\t\t\t\t<p class="small">'+TS.interop.i18n.t("Need to keep specific apps or integrations up and running? We're happy to help. No users or apps will be disabled in the meantime.","web")()+'</p>\n\t\t\t\t\t\t\t<label for="subject">'+l+'</label>\n\t\t\t\t\t\t\t<input type="text" id="subject" value="'+p+'" class="small">\n\t\t\t\t\t\t\t<label for="textarea" class="small_top_padding">'+r+'</label>\n\t\t\t\t\t\t\t<textarea id="textarea" style="resize:vertical" placeholder="'+c+'"></textarea>\n\t\t\t\t\t\t\t<input type="hidden" id="full_name" value="'+a+'">\n\t\t\t\t\t\t\t<input type="hidden" id="workspace_id" value="'+o+'">\n\t\t\t\t\t\t\t<input type="hidden" id="user_id" value="'+i+'">\n\t\t\t\t\t\t\t<input type="hidden" id="app_count" value="'+s+'">\n\t\t\t\t\t\t</p>';TS.generic_dialog.start({title:TS.interop.i18n.t("Contact Us","web")(),body:_,go_button_text:TS.interop.i18n.t("Submit","web")(),go_button_class:"btn_success",cancel_button_text:TS.interop.i18n.t("Cancel","web")(),onGo:function(){var t={};t.workspace_id=$("#workspace_id").val(),t.user_id=$("#user_id").val(),t.app_count=$("#app_count").val(),t.subject=$("#subject").val(),t.full_name=$("#full_name").val(),t.message=$("#textarea").val(),TS.web.createSupportTicket(t);var e='<p class="normal small">'+TS.interop.i18n.t('A member of the Slack support team will contact you shortly. Please check out our <a href="{link}" target="_blank">Help Center article</a> for more information.',"web")({link:"https://slack.com/help/articles/360000446446-Manage-deactivated-members-apps-and-integrations"})+"</p>";TS.generic_dialog.start({title:TS.interop.i18n.t("Thank you! We'll be in touch.","web")(),body:e,go_button_text:TS.interop.i18n.t("Done","web")(),go_button_class:"btn_success",show_cancel_button:!1})}})}},createSupportTicket:function(t){if(TS.boot_data.feature_user_app_disable_speed_bump){var e={};e.workspace_id=t.workspace_id,e.user_name=t.full_name,e.app_user=t.user_id,e.app_count=t.app_count;var n="\nTransfer App Ownership Data:\n\n"+JSON.stringify(e,null,2)+"\n\nComment from Admin:\n\n"+t.message;TS.interop.api.call("help.issues.create",{text:n,title:t.subject,tags:"api_app_disable, test"}).then((function(t){return{data:t.data,args:t.args,request_id:t.request_id}})).catch((function(t){return{data:t.data,args:t.args,request_id:t.request_id}}))}}});var t=function(){TS.boot_data.page_needs_enterprise&&TS.boot_data.user_id&&TS.interop.api.call("users.info",{user:TS.boot_data.user_id,_x_reason:"web_menu"}).then((function(t){TS.model.user_colors={},TS.redux.teams.upsertTeam({id:TS.boot_data.team_id}),TS.members.legacyUpsertMember(t.data.user),TS.model.user=t.data.user,e()}))},e=function(){TS.boot_data.page_needs_enterprise&&$("#all_workspaces").removeClass("hidden").on("click",(function(){$("#header_team_nav").toggleClass("open"),TS.ui.enterprise_teams_dialog.show(TS.model.user)}))},n=function(){$(".emoji_replace_on_load").each((function(){var t=$(this).html();t=TS.emoji.graphicReplace(t),$(this).html(t)}))}}()}},[["DxLu","webpack.manifest"]]]);